(function(){"use strict";var e={847:function(e,t,r){var a=r(144),s=r(3726),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t(s.Z,[t("router-view")],1)],1)},i=[],n=r(1001),l={},c=(0,n.Z)(l,o,i,!1,null,null,null),u=c.exports,d=r(154);a.ZP.use(d.Z);var h=new d.Z({}),m=r(8345),p=r(1095),g=r(9088),v=r(3298),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home center"},[e.$vuetify.breakpoint.mdAndUp?t("div",{staticClass:"planet"}):e._e(),t("div",{staticClass:"login ma-5"},[e.user?t(p.Z,{staticClass:"white--text text-h5 font-weight-bold",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.profile.apply(null,arguments)}}},[t(g.Z,{staticClass:"mr-2",attrs:{large:""}},[e._v("mdi-account-check")]),e._v(" "+e._s(e.user)+" ")],1):t(p.Z,{staticClass:"white--text text-h5 font-weight-bold",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.login.apply(null,arguments)}}},[t(g.Z,{staticClass:"mr-2",attrs:{large:""}},[e._v("mdi-account")]),e._v(" Log In ")],1)],1),t("div",{staticClass:"search"},[t(p.Z,{staticStyle:{position:"absolute",top:"0",left:"-70px"},attrs:{fab:"",dark:"",color:e.showBudget?"secondary":"primary"},on:{click:function(t){e.showBudget=!e.showBudget}}},[e.showBudget?t(g.Z,{attrs:{large:""}},[e._v("mdi-chevron-up")]):t(g.Z,{attrs:{large:""}},[e._v("mdi-currency-usd")])],1),t(p.Z,{staticStyle:{position:"absolute",top:"0",right:"-70px"},attrs:{color:e.showTransitMode?"secondary":"purple",fab:"",dark:""},on:{click:function(t){e.showTransitMode=!e.showTransitMode}}},[e.showTransitMode?t(g.Z,{attrs:{large:""}},[e._v("mdi-chevron-down")]):t(g.Z,{attrs:{large:""}},[e._v("mdi-"+e._s(e.selectedTransit))])],1),t(v.Z,{staticStyle:{"z-index":"2"},attrs:{id:"autocomplete",filled:"",solo:"",dark:"",label:"Enter a location","prepend-inner-icon":"mdi-map-marker"}}),t("div",{staticClass:"transit-container pa-2",style:e.transitOnDisplay},e._l(e.transitModes,(function(r){return t("div",{key:r},[t(g.Z,{staticClass:"mx-5",style:e.selectedTransit===r?"":"opacity: 0.33",attrs:{large:"",color:"white"},on:{click:function(t){e.selectedTransit=r}}},[e._v(e._s("mdi-"+r))])],1)})),0),t("div",{staticClass:"budget-container pa-2",style:e.budgetOnDisplay},e._l(e.budgetScale,(function(r){return t("div",{key:r},[r<=e.budgetValue?t(g.Z,{attrs:{large:"",color:"green"},on:{click:function(t){e.budgetValue=r}}},[e._v("mdi-currency-usd")]):t(g.Z,{attrs:{large:"",color:"red"},on:{click:function(t){e.budgetValue=r}}},[e._v("mdi-currency-usd-off")])],1)})),0)],1)])},w=[];r(7658);class y{constructor(){}static get(e){return localStorage.getItem(e)}static set(e,t){localStorage.setItem(e,t)}static remove(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}static key(e){return localStorage.key(e)}}function b(e){const t=JSON.parse(localStorage.getItem("recentActivity"))||[];t.push(e),localStorage.setItem("recentActivity",JSON.stringify(t))}function _(){return(JSON.parse(localStorage.getItem("recentActivity"))||[]).reverse()}var k={name:"HomeView",data(){return{autocomplete:void 0,user:localStorage.getItem("username"),budgetScale:13,budgetValue:1,showBudget:!1,showTransitMode:!1,transitModes:["airplane","walk","bike","car","bus","train"],selectedTransit:"airplane"}},created(){document.title="TravelApp"},mounted(){this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete")),google.maps.event.addListener(this.autocomplete,"place_changed",(()=>{const e=this.autocomplete.getPlace(),t=e.geometry.location.lat(),r=e.geometry.location.lng();b({name:e.name,lat:t,lng:r}),y.set("Latitude",t),y.set("Longitude",r),this.$router.push({name:"search"})}))},computed:{budget:{get(){return y.get("Budget")},set(e){y.set("Budget",e)}},budgetOnDisplay(){return this.showBudget?{transform:"translateY(-140%)"}:{opacity:0}},transitOnDisplay(){return this.showTransitMode?{transform:"translateY(-280%)"}:{opacity:0}}},methods:{login(){this.$router.push({name:"login"})},profile(){this.$router.push({name:"profile"})}}},x=k,Z=(0,n.Z)(x,f,w,!1,null,"a9b57356",null),C=Z.exports,P=r(3816),S=r(5255),$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("MapComponent",{attrs:{id:"map"}}),t(P.Z,{attrs:{id:"some-text",elevation:"2"}},[t(S.EB,[e._v("Test")]),t(S.ZB,[t("div",[e._v("Latitude: "+e._s(e.lat))]),t("br"),t("div",[e._v("Longitude: "+e._s(e.lng))]),t("br"),t("div",[e._v("Budget: $"+e._s(e.budget))])])],1),t("WeatherCard",{attrs:{id:"weather"}})],1)},M=[],O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"map"},[t("GmapMap",{staticStyle:{width:"100vw",height:"100vh"},attrs:{center:e.center,zoom:12}},e._l(e.markers,(function(r,a){return t("GmapMarker",{key:a,attrs:{position:r.position},on:{click:function(t){e.center=e.m.position}}})})),1)],1)},B=[],R={data(){return{center:{lat:0,lng:0},currentPlace:null,markers:[],places:[]}},mounted(){this.geolocate()},methods:{setPlace(e){this.currentPlace=e},addMarker(){if(this.currentPlace){const e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:e}),this.places.push(this.currentPlace),this.center=e,this.currentPlace=null}},geolocate(){this.center={lat:Number(y.get("Latitude")),lng:Number(y.get("Longitude"))}}}},T=R,L=(0,n.Z)(T,O,B,!1,null,null,null),A=L.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"weather"},[t(P.Z,{attrs:{elevation:"2"}},[t(S.EB,[e._v(e._s(e.weather.name)+", "+e._s(e.weather.sys.country))]),t(S.ZB,[t("div",[e._v(e._s(e.dateBuilder()))]),t("div",[e._v(e._s(Math.round(e.weather.main.temp))+"°F")])])],1)],1)},N=[],I={data(){return{api_key:"8b81c25b4594c01f9e7d4caec4793f7a",url_base:"https://api.openweathermap.org/data/2.5/",weather:{}}},created(){this.fetchWeather()},methods:{fetchWeather(){fetch(`${this.url_base}weather?lat=${Number(y.get("Latitude"))}&lon=${Number(y.get("Longitude"))}&units=imperial&APPID=${this.api_key}`).then((e=>e.json())).then(this.setResults)},setResults(e){this.weather=e},dateBuilder(){let e=new Date,t=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return`${r[e.getDay()]}, ${e.getDate()} ${t[e.getMonth()]} ${e.getFullYear()}`}}},q=I,D=(0,n.Z)(q,E,N,!1,null,null,null),j=D.exports,W={data:()=>({}),components:{MapComponent:A,WeatherCard:j},created(){document.title="TravelApp - Search"},methods:{},computed:{lat:{get(){return y.get("Latitude")},set(e){y.set("Latitude",e)}},lng:{get(){return y.get("Longitude")},set(e){y.set("Longitude",e)}},budget:{get(){return y.get("Budget")},set(e){y.set("Budget",e)}}}},F=W,H=(0,n.Z)(F,$,M,!1,null,"3cfc6366",null),J=H.exports,V=r(3240),z=r(5536),Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-form-container"},[t(P.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[t(p.Z,{staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{text:""},on:{click:e.home}},[t(g.Z,{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-arrow-left")]),e._v(" Home ")],1),t(S.EB,{staticClass:"center mt-1 mb-3"},[t("h1",[e._v(" Login ")])]),t(S.ZB,[t(V.Z,{ref:"form",attrs:{"lazy-validation":""}},[t(v.Z,{attrs:{rules:e.nameRules,"prepend-icon":"mdi-account",filled:"",label:"Name"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t(v.Z,{attrs:{type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:e.passwordRules,"prepend-icon":"mdi-lock",label:"Password",filled:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("div",{staticClass:"text-h6 red--text"},[e._v(" "+e._s(e.error)+" ")])],1),t(S.h7,[t(p.Z,{attrs:{color:"primary"},on:{click:e.login}},[e._v(" Login ")]),t(z.Z),t(p.Z,{attrs:{text:""},on:{click:e.register}},[e._v(" Register here ")])],1)],1)],1)},G=[],U={data:()=>({username:"",password:"",showPassword:!1,error:"",nameRules:[e=>!!e||"Name is required"],passwordRules:[e=>!!e||"Password is required"]}),methods:{login(){this.$refs.form.validate()&&this.axios.post("/api/auth/login",{username:this.username,password:this.password}).then((e=>{console.log(e.data),e.data.authed?(localStorage.setItem("username",this.username),this.$router.push({name:"home"})):this.error="Invalid username or password"})).catch((e=>{console.log(e)}))},register(){this.$router.push({name:"register"})},home(){this.$router.push({name:"home"})}},watch:{error(){this.error&&setTimeout((()=>{this.error=""}),3e3)}}},K=U,Q=(0,n.Z)(K,Y,G,!1,null,"4ffaf0a6",null),X=Q.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-form-container"},[t(P.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[t(p.Z,{staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{text:""},on:{click:e.home}},[t(g.Z,{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-arrow-left")]),e._v(" Home ")],1),t(S.EB,{staticClass:"center mb-3"},[t("h1",[e._v(" Register ")])]),t(S.ZB,[t(V.Z,{ref:"form",attrs:{"lazy-validation":""}},[t(v.Z,{attrs:{rules:e.nameRules,label:"Name","prepend-icon":"mdi-account",filled:"",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(v.Z,{attrs:{rules:e.emailRules,label:"E-mail","prepend-icon":"mdi-email",required:"",filled:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t(v.Z,{attrs:{"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:e.passwordRules,type:e.showPassword?"text":"password",label:"Password","prepend-icon":"mdi-lock",filled:"",required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t(v.Z,{attrs:{rules:e.password2Rules,type:e.showPassword?"text":"password",label:"Re-enter Password",required:"","prepend-icon":"mdi-redo-variant",filled:""},on:{"click:append":function(t){e.showPassword2=!e.showPassword2}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1),t("div",{staticClass:"text-h6 red--text"},[e._v(" "+e._s(e.error)+" ")])],1),t(S.h7,[t(p.Z,{attrs:{color:"primary"},on:{click:e.register}},[e._v(" Register ")]),t(z.Z),t(p.Z,{attrs:{text:""},on:{click:e.login}},[e._v(" Login here ")])],1)],1)],1)},te=[],re={data(){return{name:"",nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],password:"",passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be greater than 6 characters"],showPassword:!1,password2:"",password2Rules:[e=>e===this.password||"Passwords must match"],error:""}},methods:{register(){this.$refs.form.validate()&&this.axios.post("/api/auth/register",{username:this.name,email:this.email,password:this.password}).then((e=>{e.data.user?(console.log(e.data.user),this.$router.push({name:"login"})):this.error=e.data.error})).catch((e=>{console.log(e)}))},login(){this.$router.push({name:"login"})}},watch:{name(){this.error=""},email(){this.error=""},password(){this.error=""},password2(){this.error=""},error(e){e&&setTimeout((()=>{this.error=""}),3e3)}}},ae=re,se=(0,n.Z)(ae,ee,te,!1,null,"50e0abbe",null),oe=se.exports,ie=function(){var e=this;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"center",attrs:{id:"err-num"}},[e._v("404")]),t("p",{staticClass:"center"},[e._v("Whoops! Looks like an error has occurred.")])])}],le={mounted(){document.title="404",y.set("timesRefreshed",String(Number(y.get("timesRefreshed"))+1)),window.addEventListener("unload",this.goHome())},beforeDestroy(){window.removeEventListener("unload",this.goHome())},methods:{goHome(){let e=Number(y.get("timesRefreshed"));e>=2&&(this.$router.push({name:"home"}),y.set("timesRefreshed","0"))}}},ce=le,ue=(0,n.Z)(ce,ie,ne,!1,null,"e0e2a6a8",null),de=ue.exports,he=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("main",[t("div",{staticClass:"search-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"search-bar",attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.query},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchWeather.apply(null,arguments)},input:function(t){t.target.composing||(e.query=t.target.value)}}})]),"undefined"!=typeof e.weather.main?t("div",{staticClass:"weather-wrap"},[t("div",{staticClass:"location-box"},[t("div",{staticClass:"location"},[e._v(e._s(e.weather.name)+", "+e._s(e.weather.sys.state)+" "+e._s(e.weather.sys.country))]),t("div",{staticClass:"date"},[e._v(e._s(e.dateBuilder()))]),t("div",{staticClass:"weather-box"},[t("div",{staticClass:"temp"},[e._v(e._s(Math.round(e.weather.main.temp))+" °F")]),t("div",{staticClass:"weather"},[e._v(" "+e._s(e.weather)+" ")])])])]):e._e()])])},me=[],pe={data(){return{api_key:"8b81c25b4594c01f9e7d4caec4793f7a",url_base:"https://api.openweathermap.org/data/2.5/",query:"",weather:{}}},methods:{fetchWeather(){fetch(`${this.url_base}weather?q=${this.query}&units=imperial&APPID=${this.api_key}`).then((e=>e.json())).then(this.setResults)},setResults(e){this.weather=e},dateBuilder(){let e=new Date,t=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return`${r[e.getDay()]}, ${e.getDate()} ${t[e.getMonth()]} ${e.getFullYear()}`}}},ge=pe,ve=(0,n.Z)(ge,he,me,!1,null,null,null),fe=ve.exports,we=function(){var e=this,t=e._self._c;return t("div",{staticClass:"profile-container"},[t("div",{staticClass:"title-card-container"},[t("div",{staticClass:"text-h5 font-weight-black white--text"},[e._v(" Your Profile: ")]),t(P.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[t("h1",{staticClass:"text-h3 font-weight-black my-5"},[e._v(" "+e._s(e.user)+" ")]),t("div",{staticClass:"recent-activity-feed mb-5"},[t("div",{staticClass:"text-h5 font-weight-black center"},[e._v(" Recent Searches: ")]),t("div",{staticClass:"recent-activity-feed-container"},[e._l(e.recentActivity,(function(r){return t("div",{key:r.id},[t("div",{staticClass:"center search-item",staticStyle:{cursor:"pointer"}},[t(g.Z,{attrs:{color:"info"}},[e._v(" mdi-map-marker ")]),t("b",{on:{click:function(t){return e.redirectToSearch(r)}}},[e._v(" "+e._s(r.name)+" ")])],1)])})),e.recentActivity.length?t("div",{staticClass:"red--text text-p font-weight-black center mt-2 delete-search-history",staticStyle:{cursor:"pointer"},on:{click:e.deleteSearchHistory}},[e._v(" Delete Search History ")]):t("div",{staticClass:"red--text text-p font-weight-black center"},[e._v(" No Recent Searches ")])],2)]),t("div",{staticClass:"text-h6 font-weight-black"},[e._v(" Registered Email Address: ")]),t("p",[e._v(" "+e._s(e.email)+" ")]),t(S.h7,{staticClass:"card-actions"},[t(p.Z,{attrs:{text:""},on:{click:e.back}},[t(g.Z,{staticClass:"mr-2"},[e._v("mdi-arrow-left")]),e._v(" Back ")],1),t(z.Z),t(p.Z,{attrs:{color:"error",text:""},on:{click:e.logout}},[t(g.Z,{staticClass:"mr-2"},[e._v("mdi-account-off")]),e._v(" Log Out ")],1)],1)],1)],1)])},ye=[],be={data(){return{user:localStorage.getItem("username"),email:"fetching..."}},mounted(){this.axios.get("/api/auth/email/"+this.user).then((e=>{console.log(e.data),e.data?.message?this.email="Email Not Found":this.email=e.data.email})).catch((e=>{console.warn(e)}))},computed:{recentActivity(){return _()}},methods:{logout(){localStorage.clear(),this.$router.push({name:"home"})},back(){this.$router.push({name:"home"})},redirectToSearch(e){y.set("Latitude",e.lat),y.set("Longitude",e.lng),this.$router.push({name:"search"})},deleteSearchHistory(){localStorage.removeItem("recentActivity"),this.$router.go()}}},_e=be,ke=(0,n.Z)(_e,we,ye,!1,null,"a0809296",null),xe=ke.exports;a.ZP.use(m.ZP);const Ze=[{path:"/",name:"home",component:C},{path:"/search",name:"search",component:J},{path:"/login",name:"login",component:X},{path:"/register",name:"register",component:oe},{path:"/profile",name:"profile",component:xe},{path:"/weather",name:"weather",component:fe},{path:"/*",name:"404",component:de}],Ce=new m.ZP({mode:"history",base:"/",routes:Ze});var Pe=Ce,Se=r(6292),$e=r(594),Me=r(2346);a.ZP.config.productionTip=!1,a.ZP.use(Se,{load:{key:"AIzaSyCVIPBOnwLEp4CedTebu3hjBnVMWaWyhp0",libraries:"places"}}),a.ZP.use(Me.Z,$e.Z),new a.ZP({vuetify:h,router:Pe,render:e=>e(u)}).$mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a](o,o.exports,r),o.loaded=!0,o.exports}r.m=e,function(){r.amdO={}}(),function(){var e=[];r.O=function(t,a,s,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],o=e[u][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,s,o]}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,i=a[0],n=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var u=l(r)}for(t&&t(a);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},a=self["webpackChunktravelapp"]=self["webpackChunktravelapp"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(847)}));a=r.O(a)})();
//# sourceMappingURL=app.b87b6492.js.map